{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@wjheesen/glib/dist/index.js","webpack:///./node_modules/@wjheesen/glib/dist/math/vec2.js","webpack:///./node_modules/@wjheesen/glib/dist/math/rect.js","webpack:///./node_modules/@wjheesen/glib/dist/math/point.js","webpack:///./node_modules/@wjheesen/glib/dist/math/color.js","webpack:///./node_modules/@wjheesen/glib/dist/math/util.js","webpack:///./node_modules/@wjheesen/glib/dist/math/colorf.js","webpack:///./node_modules/@wjheesen/glib/dist/math/ellipse.js","webpack:///./node_modules/@wjheesen/glib/dist/math/line-segment.js","webpack:///./node_modules/@wjheesen/glib/dist/math/mat2d.js","webpack:///./src/brick.ts","webpack:///./src/ball.ts","webpack:///./src/ball-collision-handler.ts","webpack:///./src/brick-factory.ts","webpack:///./src/drag-detector.ts","webpack:///./src/game.ts","webpack:///./src/game-key-listener.ts","webpack:///./src/paddle.ts","webpack:///./src/room.ts","webpack:///./src/score.ts","webpack:///./src/index.ts","webpack:///./src/game-factory.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Vec2","Rect","Point","Mat2d","LineSegment","Ellipse","ColorF","Color","equals","miter","boundY","boundX","bound","fromPointToPoint","rotate270","rotate180","rotate90","normalize","cross","dot","length2","length","divide","multiply","subtract","add","copy","rect_1","v1","v2","out","x","y","_a","factor","v","Math","sqrt","dx","b","targetX","side","left","right","containsX","dy","targetY","bottom","top","p1","p2","line1","line2","lineWidth","miterLimit","n1","n2","direction","min","e","abs","width","height","centerX","centerY","offset","containsY","sort","containsPoint","contains","offsetY","offsetX","inset","intersect","intersects","unionPoint","union","isValid","isEmpty","topRight","bottomRight","bottomLeft","topLeft","center","area","dimensions","empty","r1","r2","max","vFlipped","hFlipped","distance2","distance","midpoint","vec2_1","isTransparent","isOpaque","blend","random","toArgbString","fromArgbString","toRgbaInt","fromRgbInt","fromRgbaInt","util_1","rgba","g","a","rgb","argb","parseInt","substr","pad","toString","randomByte","undefined","src","dst","alpha","invAlpha","c1","c2","randomInt","floor","str","premultiplyAlpha","toColor","fromColor","color_1","fromRect","circle","rx","ry","sx","sy","e1","e2","pt","epsilon","len2","closest","l1","l2","mapRect","mapPoint","rectToRect","sinCos","stretchRotateToPoint","rotate","stretch","scaleToPoint","scale","translate","identity","conjugate","pivot","concat","determinant","invert","det","c1r1","c2r1","c3r1","c1r2","c2r2","c3r2","conjugator","sin","cos","getScaleToFitPoint","stf","start","end","radians","origin","srcPoint","dstPoint","_i","_b","corner","m1","m2","BrickStatus","radius","velocity","target","this","game","show","move","ctx","beginPath","arc","PI","fillStyle","fill","closePath","console","log","bounds","brick","isIntact","room","paddle","BallCollisionHandler","handleCollisionWithBricks","handleCollisionWithPaddle","handleCollisionWithWall","handleCollisionWithCeiling","handleCollisionWithFloor","bricks","some","handleCollisionWithBrick","ball","score","collidesWithBrick","bounceAgainstBrick","destroy","complete","collidesWithPaddle","bounceAgainstPaddle","collidesWithWall","bounceAgainstWall","collidesWithCeiling","bounceAgainstCeiling","collidesWithFloor","stop","status","INTACT","DESTROYED","rect","cols","rows","specs","Array","from","newBrickGenerator","col","row","newBrick","padding","offsetLeft","offsetTop","DragDetector","canvasEl","dragging","dragPosition","onPointerDown","onPointerMove","preventDefault","clientX","clientY","onPointerUp","addEventListener","removeEventListener","Game","dragDetector","keyListener","ballCollisionHandler","tick","running","onFrameRequest","handleCollision","onGameTick","forEach","requestNextFrame","startListening","stopListening","alert","document","location","reload","requestAnimationFrame","GameKeyListener","leftKeyPressed","rightKeyPressed","onKeyDown","onKeyUp","speed","handleLeftKeyPress","handleRightKeyPress","handleDragging","drag","getDragPosition","clearRect","Score","font","fillText","querySelector","newRoom","newBricks","newBall","newPaddle","getContext","newScore","newGame"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Vec2 = exports.Rect = exports.Point = exports.Mat2d = exports.LineSegment = exports.Ellipse = exports.ColorF = exports.Color = void 0;\nexports.Color = require(\"./math/color\");\nexports.ColorF = require(\"./math/colorf\");\nexports.Ellipse = require(\"./math/ellipse\");\nexports.LineSegment = require(\"./math/line-segment\");\nexports.Mat2d = require(\"./math/mat2d\");\nexports.Point = require(\"./math/point\");\nexports.Rect = require(\"./math/rect\");\nexports.Vec2 = require(\"./math/vec2\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.equals = exports.miter = exports.boundY = exports.boundX = exports.bound = exports.fromPointToPoint = exports.rotate270 = exports.rotate180 = exports.rotate90 = exports.normalize = exports.cross = exports.dot = exports.length2 = exports.length = exports.divide = exports.multiply = exports.subtract = exports.add = exports.copy = void 0;\nvar rect_1 = require(\"./rect\");\n/** Copies a vec2 */\nfunction copy(v, out) {\n    if (out === void 0) { out = {}; }\n    out.x = v.x;\n    out.y = v.y;\n    return out;\n}\nexports.copy = copy;\n/** Returns v1 + v2 (component-wise addition) */\nfunction add(v1, v2, out) {\n    if (out === void 0) { out = {}; }\n    out.x = v1.x + v2.x;\n    out.y = v1.y + v2.y;\n    return out;\n}\nexports.add = add;\n/** Returns v1 - v2 (component-wise subtraction) */\nfunction subtract(v1, v2, out) {\n    if (out === void 0) { out = {}; }\n    out.x = v1.x - v2.x;\n    out.y = v1.y - v2.y;\n    return out;\n}\nexports.subtract = subtract;\n/** Multiplies each component of a vector by the specified factor */\nfunction multiply(_a, factor, out) {\n    var x = _a.x, y = _a.y;\n    if (out === void 0) { out = {}; }\n    out.x = x * factor;\n    out.y = y * factor;\n    return out;\n}\nexports.multiply = multiply;\n/** Divides each component of a vector by the specified factor */\nfunction divide(_a, factor, out) {\n    var x = _a.x, y = _a.y;\n    if (out === void 0) { out = {}; }\n    out.x = x / factor;\n    out.y = y / factor;\n    return out;\n}\nexports.divide = divide;\n/** Measures the length of a vector */\nfunction length(v) {\n    return Math.sqrt(length2(v));\n}\nexports.length = length;\n/** Measures the length squared of a vector */\nfunction length2(_a) {\n    var x = _a.x, y = _a.y;\n    return x * x + y * y;\n}\nexports.length2 = length2;\n/** Computes the dot product of v1 and v2 */\nfunction dot(v1, v2) {\n    return v1.x * v2.x + v1.y * v2.y;\n}\nexports.dot = dot;\n/** Computes the cross product of v1 with v2. */\nfunction cross(v1, v2) {\n    return (v1.x * v2.y) - (v2.x * v1.y);\n}\nexports.cross = cross;\n/* Normalizes a vector so that it has a length of 1 */\nfunction normalize(v, out) {\n    if (out === void 0) { out = {}; }\n    return divide(v, length(v), out);\n}\nexports.normalize = normalize;\n/** Rotates a vector 90 degrees CCW (to the right) */\nfunction rotate90(_a, out) {\n    var x = _a.x, y = _a.y;\n    if (out === void 0) { out = {}; }\n    out.x = y;\n    out.y = -x;\n    return out;\n}\nexports.rotate90 = rotate90;\n/** Rotates a vector 180 degrees CCW (flipping it) */\nfunction rotate180(_a, out) {\n    var x = _a.x, y = _a.y;\n    if (out === void 0) { out = {}; }\n    out.x = -x;\n    out.y = -y;\n    return out;\n}\nexports.rotate180 = rotate180;\n/** Rotates a vector 270 degrees CCW (90 degree to the left) */\nfunction rotate270(_a, out) {\n    var x = _a.x, y = _a.y;\n    if (out === void 0) { out = {}; }\n    out.x = -y;\n    out.y = x;\n    return out;\n}\nexports.rotate270 = rotate270;\n/** Measures the vector from p1 (initial point) to p2 (terminal point) */\nfunction fromPointToPoint(p1, p2, out) {\n    if (out === void 0) { out = {}; }\n    out.x = p2.x - p1.x;\n    out.y = p2.y - p1.y;\n    return out;\n}\nexports.fromPointToPoint = fromPointToPoint;\n/** Bounds a translation vector to prevent it from mapping point p outside of bounds r */\nfunction bound(v, p, b, out) {\n    if (out === void 0) { out = {}; }\n    out.x = boundX(v.x, p.x, b);\n    out.y = boundY(v.y, p.y, b);\n    return out;\n}\nexports.bound = bound;\n/** Bounds the x-component of a translation vector to prevent it from mapping the x-coordinate of a point outside of bounds b */\nfunction boundX(dx, x, b) {\n    var targetX = dx + x;\n    var side = dx < 0 ? b.left : b.right;\n    return rect_1.containsX(b, targetX) ? dx : side - x;\n}\nexports.boundX = boundX;\n/** Bounds the y-component of a translation vector to prevent it from mapping the y-coordinate of a point outside of bounds b */\nfunction boundY(dy, y, b) {\n    var targetY = dy + y;\n    var side = dy < 0 ? b.bottom : b.top;\n    return rect_1.containsX(b, targetY) ? dy : side - y;\n}\nexports.boundY = boundY;\n/**\n * Finds the miter vector needed to join the two specified lines. Assumes the lines are measured from points listed in CCW order.\n * @param line1 The nonzero vector from the start of the first line to the end of the first line.\n * @param line2 The nonzero vector from the start of the second line to the end of the second line.\n * @param lineWidth The width of the second line (or half the width, if joining at the center of the lines).\n * @param miterLimit The maximum allowable miter length before a bevel is applied. Usually some multiple of lineWidth.\n */\nfunction miter(line1, line2, lineWidth, miterLimit, out) {\n    if (out === void 0) { out = {}; }\n    var n1 = normalize(rotate90(line1));\n    var n2 = normalize(rotate90(line2));\n    var direction = normalize(add(n1, n2));\n    var length = Math.min(miterLimit, lineWidth / dot(direction, n2));\n    return multiply(direction, length, out);\n}\nexports.miter = miter;\n/** Checks if v1 and v2 are approximately equal */\nfunction equals(v1, v2, e) {\n    if (e === void 0) { e = 0; }\n    return Math.abs(v1.x - v2.x) <= e\n        && Math.abs(v1.y - v2.y) <= e;\n}\nexports.equals = equals;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.equals = exports.sort = exports.containsY = exports.containsX = exports.containsPoint = exports.contains = exports.offsetY = exports.offsetX = exports.offset = exports.inset = exports.intersect = exports.intersects = exports.unionPoint = exports.union = exports.isValid = exports.isEmpty = exports.topRight = exports.bottomRight = exports.bottomLeft = exports.topLeft = exports.centerY = exports.centerX = exports.center = exports.area = exports.height = exports.width = exports.dimensions = exports.empty = exports.copy = void 0;\n/** Copies a rect */\nfunction copy(r, out) {\n    if (out === void 0) { out = {}; }\n    out.left = r.left;\n    out.top = r.top;\n    out.right = r.right;\n    out.bottom = r.bottom;\n    return out;\n}\nexports.copy = copy;\n/** Creates an empty rect */\nfunction empty(out) {\n    if (out === void 0) { out = {}; }\n    out.left = 0;\n    out.top = 0;\n    out.right = 0;\n    out.bottom = 0;\n    return out;\n}\nexports.empty = empty;\n/** Creates a rect with the specified dimensions */\nfunction dimensions(left, top, width, height, out) {\n    if (out === void 0) { out = {}; }\n    out.left = left;\n    out.top = top;\n    out.right = left + width;\n    out.bottom = top - height;\n    return out;\n}\nexports.dimensions = dimensions;\n/** Measures the width of a rect */\nfunction width(r) {\n    return r.right - r.left;\n}\nexports.width = width;\n/** Measures the height of a rect */\nfunction height(r) {\n    return r.top - r.bottom;\n}\nexports.height = height;\n/** Measures the area of a rect */\nfunction area(r) {\n    return width(r) * height(r);\n}\nexports.area = area;\n/** Measures the point at the center of a rect */\nfunction center(r, out) {\n    if (out === void 0) { out = {}; }\n    out.x = centerX(r);\n    out.y = centerY(r);\n    return out;\n}\nexports.center = center;\n/** Measures the x-coordinate of the point at the center of a rect */\nfunction centerX(r) {\n    return 0.5 * (r.left + r.right);\n}\nexports.centerX = centerX;\n/** Measures the y-coordinate of the point at the center of a rect */\nfunction centerY(r) {\n    return 0.5 * (r.bottom + r.top);\n}\nexports.centerY = centerY;\n/** Gets the point at the top left corner of a rect */\nfunction topLeft(r, out) {\n    if (out === void 0) { out = {}; }\n    out.x = r.left;\n    out.y = r.top;\n    return out;\n}\nexports.topLeft = topLeft;\n/** Gets the point at the bottom left corner of a rect */\nfunction bottomLeft(r, out) {\n    if (out === void 0) { out = {}; }\n    out.x = r.left;\n    out.y = r.bottom;\n    return out;\n}\nexports.bottomLeft = bottomLeft;\n/** Gets the point at the bottom right corner of a rect */\nfunction bottomRight(r, out) {\n    if (out === void 0) { out = {}; }\n    out.x = r.right;\n    out.y = r.bottom;\n    return out;\n}\nexports.bottomRight = bottomRight;\n/** Gets the point at the top right corner of a rect */\nfunction topRight(r, out) {\n    if (out === void 0) { out = {}; }\n    out.x = r.right;\n    out.y = r.top;\n    return out;\n}\nexports.topRight = topRight;\n/** Checks if a rect is empty. True if left >= right or bottom >= top. */\nfunction isEmpty(r) {\n    return r.left >= r.right || r.bottom >= r.top;\n}\nexports.isEmpty = isEmpty;\n/** Checks if the boundaries of this Rect represent a valid rectangle. True if right >= left and top >= bottom. */\nfunction isValid(r) {\n    return r.right >= r.left && r.top >= r.bottom;\n}\nexports.isValid = isValid;\n/** Finds the union of two rectangles */\nfunction union(r1, r2, out) {\n    if (out === void 0) { out = {}; }\n    out.left = Math.min(r1.left, r2.left);\n    out.right = Math.max(r1.right, r2.right);\n    out.bottom = Math.min(r1.bottom, r2.bottom);\n    out.top = Math.max(r1.top, r2.top);\n    return out;\n}\nexports.union = union;\n/** Expands a rect to enclose the specified point */\nfunction unionPoint(r, _a, out) {\n    var x = _a.x, y = _a.y;\n    if (out === void 0) { out = {}; }\n    out.left = Math.min(x, r.left);\n    out.top = Math.max(y, r.top);\n    out.right = Math.max(x, r.right);\n    out.bottom = Math.min(y, r.bottom);\n    return out;\n}\nexports.unionPoint = unionPoint;\n/** Checks if two rectangles intersect */\nfunction intersects(r1, r2) {\n    return r1.right >= r2.left && r2.right >= r1.left && r1.top >= r2.bottom && r2.top >= r1.bottom;\n}\nexports.intersects = intersects;\n/** Finds the intersection of 2 rectangles */\nfunction intersect(r1, r2, out) {\n    if (out === void 0) { out = {}; }\n    out.left = Math.max(r1.left, r2.left);\n    out.right = Math.min(r1.right, r2.right);\n    out.bottom = Math.max(r1.bottom, r2.bottom);\n    out.top = Math.min(r1.top, r2.top);\n    return out;\n}\nexports.intersect = intersect;\n/** Insets the boundaries of a rect by the specified vector. */\nfunction inset(r, _a, out) {\n    var x = _a.x, y = _a.y;\n    if (out === void 0) { out = {}; }\n    out.left = r.left + x;\n    out.top = r.top - y;\n    out.right = r.right - x;\n    out.bottom = r.bottom + y;\n    return out;\n}\nexports.inset = inset;\n/** Offsets the position of a rect by the specified vector */\nfunction offset(r, _a, out) {\n    var x = _a.x, y = _a.y;\n    if (out === void 0) { out = {}; }\n    out.left = r.left + x;\n    out.top = r.top + y;\n    out.right = r.right + x;\n    out.bottom = r.bottom + y;\n    return out;\n}\nexports.offset = offset;\n/** Offsets the position of a rect by the specified change in x (dx) */\nfunction offsetX(r, dx, out) {\n    if (out === void 0) { out = {}; }\n    return offset(r, { x: dx, y: 0 }, out);\n}\nexports.offsetX = offsetX;\n/** Offsets the position of a rect by the specified change in y (dy) */\nfunction offsetY(r, dy, out) {\n    if (out === void 0) { out = {}; }\n    return offset(r, { x: 0, y: dy }, out);\n}\nexports.offsetY = offsetY;\n/** Checks if r1 contains r2 */\nfunction contains(r1, r2) {\n    return r1.left <= r2.left && r2.right <= r1.right &&\n        r1.bottom <= r2.bottom && r2.top <= r1.top;\n}\nexports.contains = contains;\n/** Checks if a rect contains the specified point */\nfunction containsPoint(r, _a) {\n    var x = _a.x, y = _a.y;\n    return containsX(r, x) && containsY(r, y);\n}\nexports.containsPoint = containsPoint;\n/** Checks if a rect contains any point with the specified x coordinate  */\nfunction containsX(r, x) {\n    return r.left <= x && x <= r.right;\n}\nexports.containsX = containsX;\n/** Checks if a rect contains any point with the specified y coordinate  */\nfunction containsY(r, y) {\n    return r.bottom <= y && y <= r.top;\n}\nexports.containsY = containsY;\n/** Swaps the top/bottom or left/right boundaries of a rect if they are flipped, meaning left > right and/or top > bottom */\nfunction sort(_a, out) {\n    var top = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n    if (out === void 0) { out = {}; }\n    var vFlipped = bottom > top;\n    var hFlipped = left > right;\n    out.top = vFlipped ? bottom : top;\n    out.left = hFlipped ? right : left;\n    out.bottom = vFlipped ? top : bottom;\n    out.right = hFlipped ? left : right;\n    return out;\n}\nexports.sort = sort;\n/** Checks if r1 and r2 are approximately equal */\nfunction equals(r1, r2, e) {\n    if (e === void 0) { e = 0; }\n    return Math.abs(r1.left - r2.left) <= e\n        && Math.abs(r1.top - r2.top) <= e\n        && Math.abs(r1.right - r2.right) <= e\n        && Math.abs(r1.bottom - r2.bottom) <= e;\n}\nexports.equals = equals;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.equals = exports.distance2 = exports.distance = exports.midpoint = exports.copy = void 0;\nvar vec2_1 = require(\"./vec2\");\n/** Copies a point */\nfunction copy(p, out) {\n    if (out === void 0) { out = {}; }\n    out.x = p.x;\n    out.y = p.y;\n    return out;\n}\nexports.copy = copy;\n/** Computes the midpoint of p1 and p2 */\nfunction midpoint(p1, p2, out) {\n    if (out === void 0) { out = {}; }\n    return vec2_1.multiply(vec2_1.add(p1, p2, out), 0.5, out);\n}\nexports.midpoint = midpoint;\n/** Computes the distance between p1 and p2 */\nfunction distance(p1, p2) {\n    return Math.sqrt(distance2(p1, p2));\n}\nexports.distance = distance;\n/** Computes the distance squared between p1 and p2 */\nfunction distance2(p1, p2) {\n    return vec2_1.length2(vec2_1.fromPointToPoint(p1, p2));\n}\nexports.distance2 = distance2;\n/** Checks if p1 and p2 are approximately equal */\nfunction equals(p1, p2, e) {\n    if (e === void 0) { e = 0; }\n    return Math.abs(p1.x - p2.x) <= e\n        && Math.abs(p1.y - p2.y) <= e;\n}\nexports.equals = equals;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.equals = exports.isTransparent = exports.isOpaque = exports.blend = exports.random = exports.toArgbString = exports.fromArgbString = exports.toRgbaInt = exports.fromRgbInt = exports.fromRgbaInt = exports.copy = void 0;\nvar util_1 = require(\"./util\");\n/** Copies a color */\nfunction copy(c, out) {\n    if (out === void 0) { out = {}; }\n    out.r = c.r;\n    out.g = c.g;\n    out.b = c.b;\n    out.a = c.a;\n    return out;\n}\nexports.copy = copy;\n/** Converts an 0xrrggbbaa int to a color */\nfunction fromRgbaInt(rgba, out) {\n    if (out === void 0) { out = {}; }\n    out.r = (rgba >> 24) & 0xff;\n    out.g = (rgba >> 16) & 0xff;\n    out.b = (rgba >> 8) & 0xff;\n    out.a = (rgba >> 0) & 0xff;\n    return out;\n}\nexports.fromRgbaInt = fromRgbaInt;\n/** Converts an 0xrrggbb int to a (fully opaque) color */\nfunction fromRgbInt(rgb, out) {\n    if (out === void 0) { out = {}; }\n    return fromRgbaInt((rgb << 8) | 0xff, out);\n}\nexports.fromRgbInt = fromRgbInt;\n/** Converts a color to an 0xrrggbbaa int */\nfunction toRgbaInt(c) {\n    var r = c.r << 24;\n    var g = c.g << 16;\n    var b = c.b << 8;\n    var a = c.a << 0;\n    return (r | g | b | a) >>> 0; // Convert to unsigned\n}\nexports.toRgbaInt = toRgbaInt;\n/** Converts an #aarrggbb string to a color. The leading # is optional. */\nfunction fromArgbString(argb, out) {\n    if (out === void 0) { out = {}; }\n    var i = argb[0] == '#' ? 1 : 0;\n    out.a = parseInt(argb.substr(i, 2), 16);\n    out.r = parseInt(argb.substr(i + 2, 2), 16);\n    out.g = parseInt(argb.substr(i + 4, 2), 16);\n    out.b = parseInt(argb.substr(i + 6, 2), 16);\n    return out;\n}\nexports.fromArgbString = fromArgbString;\n/** Converts a color to an #aarrggbb string. */\nfunction toArgbString(c) {\n    var a = util_1.pad(c.a.toString(16)); // aa\n    var r = util_1.pad(c.r.toString(16)); // rr\n    var g = util_1.pad(c.g.toString(16)); // gg\n    var b = util_1.pad(c.b.toString(16)); // bb\n    return '#' + a + r + g + b; // #aarrggbb\n}\nexports.toArgbString = toArgbString;\n/** Creates a random color. Preserves the alpha value of the out param if specified; otherwise defaults to fully opaque */\nfunction random(out) {\n    if (out === void 0) { out = {}; }\n    out.r = util_1.randomByte();\n    out.g = util_1.randomByte();\n    out.b = util_1.randomByte();\n    out.a = out.a === undefined ? 0xff : out.a;\n    return out;\n}\nexports.random = random;\n/** Blends src into dst using (src.alpha, 1-src.alpha) blend mode */\nfunction blend(src, dst, out) {\n    if (out === void 0) { out = {}; }\n    var alpha = src.a + 1, invAlpha = 256 - src.a;\n    out.r = (alpha * src.r + invAlpha * dst.r) >> 8; // divide by 2^8\n    out.g = (alpha * src.g + invAlpha * dst.g) >> 8;\n    out.b = (alpha * src.b + invAlpha * dst.b) >> 8;\n    out.a = dst.a;\n    return out;\n}\nexports.blend = blend;\n/** Checks if a color is fully opaque */\nfunction isOpaque(c) {\n    return c.a === 0xff;\n}\nexports.isOpaque = isOpaque;\n/** Checks if a color is fully transparent */\nfunction isTransparent(c) {\n    return c.a === 0;\n}\nexports.isTransparent = isTransparent;\n/** Checks if c1 and c2 are equal */\nfunction equals(c1, c2) {\n    return c1.r == c2.r\n        && c1.g == c2.g\n        && c1.b == c2.b\n        && c1.a == c2.a;\n}\nexports.equals = equals;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.randomByte = exports.randomInt = exports.pad = void 0;\nfunction pad(str) {\n    return (str.length == 1) ? '0' + str : str;\n}\nexports.pad = pad;\n/** Returns a random integer between min (inclusive) and max (inclusive) */\nfunction randomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\nexports.randomInt = randomInt;\n/** Returns a random byte value between 0 and 0xff */\nfunction randomByte() {\n    return randomInt(0, 0xff);\n}\nexports.randomByte = randomByte;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.premultiplyAlpha = exports.isOpaque = exports.random = exports.toColor = exports.fromColor = exports.equals = exports.isTransparent = exports.copy = void 0;\n// These functions are the same\nvar color_1 = require(\"./color\");\nObject.defineProperty(exports, \"copy\", { enumerable: true, get: function () { return color_1.copy; } });\nObject.defineProperty(exports, \"isTransparent\", { enumerable: true, get: function () { return color_1.isTransparent; } });\n/** Checks if c1 and c2 are approximately equal */\nfunction equals(c1, c2, e) {\n    if (e === void 0) { e = 0; }\n    return Math.abs(c1.r - c2.r) <= e\n        && Math.abs(c1.g - c2.g) <= e\n        && Math.abs(c1.b - c2.b) <= e;\n}\nexports.equals = equals;\n/** Converts a byte-based rgba color to a float-based rgba color */\nfunction fromColor(src, out) {\n    if (out === void 0) { out = {}; }\n    out.r = src.r / 0xff;\n    out.g = src.g / 0xff;\n    out.b = src.b / 0xff;\n    out.a = src.a / 0xff;\n    return out;\n}\nexports.fromColor = fromColor;\n/** Converts a float-based rgba color to a byte-based rgba color */\nfunction toColor(src, out) {\n    if (out === void 0) { out = {}; }\n    out.r = (src.r * 0xff) >> 0;\n    out.g = (src.g * 0xff) >> 0;\n    out.b = (src.b * 0xff) >> 0;\n    out.a = (src.a * 0xff) >> 0;\n    return out;\n}\nexports.toColor = toColor;\n/** Creates a random color. Preserves the alpha value of the out param if specified; otherwise defaults to fully opaque */\nfunction random(out) {\n    if (out === void 0) { out = {}; }\n    out.r = Math.random();\n    out.g = Math.random();\n    out.b = Math.random();\n    out.a = out.a === undefined ? 1 : out.a;\n    return out;\n}\nexports.random = random;\n/** Checks if a color is fully opaque */\nfunction isOpaque(c) {\n    return c.a === 1;\n}\nexports.isOpaque = isOpaque;\n/** Premultiplies the (r,g,b) components of a color by it's alpha component */\nfunction premultiplyAlpha(c, out) {\n    if (out === void 0) { out = {}; }\n    out.r = c.r * c.a;\n    out.g = c.g * c.a;\n    out.b = c.b * c.a;\n    out.a = 1;\n    return out;\n}\nexports.premultiplyAlpha = premultiplyAlpha;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.equals = exports.containsPoint = exports.fromRect = exports.circle = exports.copy = void 0;\nvar p = require(\"./point\");\nvar rect_1 = require(\"./rect\");\nvar vec2_1 = require(\"./vec2\");\n/** Copies an ellipse */\nfunction copy(e, out) {\n    if (out === void 0) { out = {}; }\n    out.rx = e.rx;\n    out.ry = e.ry;\n    out.c = p.copy(e.c, out.c);\n    return out;\n}\nexports.copy = copy;\n/** Creates a circle with radius r centered at point c */\nfunction circle(r, c, out) {\n    if (out === void 0) { out = {}; }\n    return copy({ rx: r, ry: r, c: c }, out);\n}\nexports.circle = circle;\n/** Creates an ellipse with the specified boundaries */\nfunction fromRect(r, out) {\n    if (out === void 0) { out = {}; }\n    return copy({ rx: rect_1.width(r) / 2, ry: rect_1.height(r) / 2, c: rect_1.center(r) }, out);\n}\nexports.fromRect = fromRect;\n/** Check if an ellipse contains the specified point */\nfunction containsPoint(e, p) {\n    // Similar to point in circle problem, but need to account for x/y axes\n    var d = vec2_1.fromPointToPoint(p, e.c);\n    var sx = d.x / e.rx;\n    var sy = d.y / e.ry;\n    return (sx * sx) + (sy * sy) <= 1;\n}\nexports.containsPoint = containsPoint;\n/** Checks if e1 and e2 are approximately equal */\nfunction equals(e1, e2, e) {\n    if (e === void 0) { e = 0; }\n    return Math.abs(e1.rx - e2.rx) <= e\n        && Math.abs(e1.ry - e2.ry) <= e\n        && p.equals(e1.c, e2.c, e);\n}\nexports.equals = equals;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.equals = exports.containsPoint = exports.copy = void 0;\nvar pt = require(\"./point\");\nvar vec2_1 = require(\"./vec2\");\n/** Copies a line segment */\nfunction copy(l, out) {\n    if (out === void 0) { out = {}; }\n    out.p1 = pt.copy(l.p1, out.p1);\n    out.p2 = pt.copy(l.p2, out.p2);\n    return out;\n}\nexports.copy = copy;\n/** Checks if the distance from this line to (x,y) is less than or equal to epsilon  */\nfunction containsPoint(l, p, epsilon) {\n    if (epsilon === void 0) { epsilon = 0; }\n    // Paramaterize the line segment to a + bt, 0<=t<=1\n    var a = l.p1, b = vec2_1.fromPointToPoint(l.p1, l.p2), t = -1;\n    // Find the value of t that produces a point closest to point p (using vector projection)\n    var v = vec2_1.fromPointToPoint(a, p);\n    var len2 = vec2_1.length2(b);\n    if (len2 != 0) { //in case of 0 length line\n        t = vec2_1.dot(b, v) / len2;\n    }\n    // If t does not produce a point on our line segment, then then the line segment does not contain the point\n    if (t < 0 || t > 1) {\n        return false;\n    }\n    // The distance between the given point and specified point must be less than epsilon\n    // As an optimization, we check distance squared to avoid having to take the square root\n    var closest = vec2_1.add(a, vec2_1.multiply(b, t));\n    var dist2 = pt.distance2(closest, p);\n    return dist2 <= (epsilon * epsilon);\n}\nexports.containsPoint = containsPoint;\n/** Checks if l1 and l2 are approximately equal */\nfunction equals(l1, l2, e) {\n    if (e === void 0) { e = 0; }\n    return pt.equals(l1.p1, l2.p1, e)\n        && pt.equals(l1.p2, l2.p2, e);\n}\nexports.equals = equals;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.equals = exports.mapRect = exports.mapPoint = exports.rectToRect = exports.sinCos = exports.stretchRotateToPoint = exports.rotate = exports.stretch = exports.scaleToPoint = exports.scale = exports.translate = exports.identity = exports.conjugate = exports.pivot = exports.concat = exports.determinant = exports.invert = exports.copy = void 0;\nvar vec2_1 = require(\"./vec2\");\nvar rect_1 = require(\"./rect\");\n/** Copies a 2d matrix */\nfunction copy(m, out) {\n    if (out === void 0) { out = {}; }\n    out.c1r1 = m.c1r1;\n    out.c2r1 = m.c2r1;\n    out.c3r1 = m.c3r1;\n    out.c1r2 = m.c1r2;\n    out.c2r2 = m.c2r2;\n    out.c3r2 = m.c3r2;\n    return out;\n}\nexports.copy = copy;\n/** Inverts a 2d matrix. */\nfunction invert(m, out) {\n    if (out === void 0) { out = {}; }\n    var det = determinant(m);\n    var c1r1 = m.c1r1, c2r1 = m.c2r1, c3r1 = m.c3r1, c1r2 = m.c1r2, c2r2 = m.c2r2, c3r2 = m.c3r2;\n    out.c1r1 = c2r2 / det;\n    out.c2r1 = -c2r1 / det;\n    out.c3r1 = ((c2r1 * c3r2) - (c3r1 * c2r2)) / det;\n    out.c1r2 = -c1r2 / det;\n    out.c2r2 = c1r1 / det;\n    out.c3r2 = ((c1r2 * c3r1) - (c1r1 * c3r2)) / det;\n    return out;\n}\nexports.invert = invert;\n/** Computes the determinant of a 2d matrix. */\nfunction determinant(m) {\n    return (m.c1r1 * m.c2r2) - (m.c2r1 * m.c1r2);\n}\nexports.determinant = determinant;\n/** Concatenates 2 matrices together by multiplication: left * right */\nfunction concat(left, right, out) {\n    if (out === void 0) { out = {}; }\n    // Calculate the first row, fixing the first left hand row\n    // and moving across each of the right hand columns\n    var c1r1 = left.c1r1 * right.c1r1 + left.c2r1 * right.c1r2;\n    var c2r1 = left.c1r1 * right.c2r1 + left.c2r1 * right.c2r2;\n    var c3r1 = left.c1r1 * right.c3r1 + left.c2r1 * right.c3r2 + left.c3r1;\n    // Calculate the second row, fixing the second left hand row\n    // and moving across each of the right hand columns\n    var c1r2 = left.c1r2 * right.c1r1 + left.c2r2 * right.c1r2;\n    var c2r2 = left.c1r2 * right.c2r1 + left.c2r2 * right.c2r2;\n    var c3r2 = left.c1r2 * right.c3r1 + left.c2r2 * right.c3r2 + left.c3r2;\n    // Output the result\n    out.c1r1 = c1r1;\n    out.c2r1 = c2r1;\n    out.c3r1 = c3r1;\n    out.c1r2 = c1r2;\n    out.c2r2 = c2r2;\n    out.c3r2 = c3r2;\n    return out;\n}\nexports.concat = concat;\n/** Pivots the fixed point of a matrix by the specified vector */\nfunction pivot(m, v, out) {\n    if (out === void 0) { out = {}; }\n    return conjugate(m, translate(v), out);\n}\nexports.pivot = pivot;\n/** Conjugates a matrix by the specified conjugator matrix */\nfunction conjugate(m, conjugator, out) {\n    if (out === void 0) { out = {}; }\n    return concat(conjugator, concat(m, invert(conjugator)), out);\n}\nexports.conjugate = conjugate;\n/** Creates an identity matrix */\nfunction identity(out) {\n    if (out === void 0) { out = {}; }\n    out.c1r1 = 1;\n    out.c2r1 = 0;\n    out.c3r1 = 0;\n    out.c1r2 = 0;\n    out.c2r2 = 1;\n    out.c3r2 = 0;\n    return out;\n}\nexports.identity = identity;\n/** Creates a matrix to translate by the specified vector */\nfunction translate(_a, out) {\n    var x = _a.x, y = _a.y;\n    if (out === void 0) { out = {}; }\n    out.c1r1 = 1;\n    out.c2r1 = 0;\n    out.c3r1 = x;\n    out.c1r2 = 0;\n    out.c2r2 = 1;\n    out.c3r2 = y;\n    return out;\n}\nexports.translate = translate;\n/** Creates a matrix to scale by the specified vector */\nfunction scale(_a, out) {\n    var x = _a.x, y = _a.y;\n    if (out === void 0) { out = {}; }\n    out.c1r1 = x;\n    out.c2r1 = 0;\n    out.c3r1 = 0;\n    out.c1r2 = 0;\n    out.c2r2 = y;\n    out.c3r2 = 0;\n    return out;\n}\nexports.scale = scale;\n/** Creates a matrix to scale from the specified start point to the specified end point, with a pivot point at p. */\nfunction scaleToPoint(start, end, p, out) {\n    if (out === void 0) { out = {}; }\n    var v1 = vec2_1.fromPointToPoint(p, start);\n    var v2 = vec2_1.fromPointToPoint(p, end);\n    var s = scale({ x: v2.x / v1.x, y: v2.y / v1.y }, out);\n    return pivot(s, p, out);\n}\nexports.scaleToPoint = scaleToPoint;\n/** Creates a matrix to scale by the specified factor */\nfunction stretch(factor, out) {\n    if (out === void 0) { out = {}; }\n    return scale({ x: factor, y: factor }, out);\n}\nexports.stretch = stretch;\n/** Creates a matrix to rotate by the specified number of radians */\nfunction rotate(radians, out) {\n    if (out === void 0) { out = {}; }\n    return sinCos(Math.sin(radians), Math.cos(radians), out);\n}\nexports.rotate = rotate;\n/** Creates a matrix to stretch and rotate from the specified start point to the specified end point, with a pivot point at p. */\nfunction stretchRotateToPoint(start, end, p, out) {\n    if (out === void 0) { out = {}; }\n    // Determine the stretch ratio\n    var v1 = vec2_1.fromPointToPoint(p, start);\n    var v2 = vec2_1.fromPointToPoint(p, end);\n    var l1 = vec2_1.length(v1);\n    var l2 = vec2_1.length(v2);\n    var s = stretch(l2 / l1);\n    // Determine the sin and cos of the rotation angle\n    var n1 = vec2_1.divide(v1, l1);\n    var n2 = vec2_1.divide(v2, l2);\n    var sin = vec2_1.cross(n1, n2);\n    var cos = vec2_1.dot(n1, n2);\n    var r = sinCos(sin, cos);\n    // Rotate first, then stretch\n    return pivot(concat(s, r), p, out);\n}\nexports.stretchRotateToPoint = stretchRotateToPoint;\n/** Creates a matrix to rotate by the specified sine and cosine values */\nfunction sinCos(sin, cos, out) {\n    if (out === void 0) { out = {}; }\n    out.c1r1 = cos;\n    out.c2r1 = -sin;\n    out.c3r1 = 0;\n    out.c1r2 = sin;\n    out.c2r2 = cos;\n    out.c3r2 = 0;\n    return out;\n}\nexports.sinCos = sinCos;\n;\n/** Creates a matrix to map src into dst using the specifed scale to fit option  */\nfunction rectToRect(src, dst, stf, out) {\n    if (stf === void 0) { stf = 2 /* Fill */; }\n    if (out === void 0) { out = {}; }\n    // Translate to origin\n    var origin = { x: 0, y: 0 };\n    var srcPoint = getScaleToFitPoint(src, stf);\n    var dstPoint = getScaleToFitPoint(dst, stf);\n    translate(vec2_1.fromPointToPoint(srcPoint, origin), out);\n    // Apply the scale\n    var sx = rect_1.width(dst) / rect_1.width(src);\n    var sy = rect_1.height(dst) / rect_1.height(src);\n    var scaleMatrix = stf == 2 /* Fill */ ? scale({ x: sx, y: sy }) : stretch(Math.min(sx, sy));\n    concat(scaleMatrix, out, out);\n    // Translate to destination point\n    var translation = translate(vec2_1.fromPointToPoint(origin, dstPoint));\n    return concat(translation, out, out);\n}\nexports.rectToRect = rectToRect;\n/** Determine which point to match based on the scale to fit option. */\nfunction getScaleToFitPoint(r, stf) {\n    switch (stf) {\n        case 0 /* Center */:\n            return rect_1.center(r);\n        case 1 /* End */:\n            return { x: r.right, y: r.bottom };\n        default:\n            return { x: r.left, y: r.top };\n    }\n}\n/** Maps a point by the specified matrix */\nfunction mapPoint(m, _a, out) {\n    var x = _a.x, y = _a.y;\n    if (out === void 0) { out = {}; }\n    out.x = m.c1r1 * x + m.c2r1 * y + m.c3r1;\n    out.y = m.c1r2 * x + m.c2r2 * y + m.c3r2;\n    return out;\n}\nexports.mapPoint = mapPoint;\n/** Maps a rect by the specified matrix */\nfunction mapRect(m, r, out) {\n    if (out === void 0) { out = {}; }\n    var _a = mapPoint(m, rect_1.topLeft(r)), x = _a.x, y = _a.y;\n    rect_1.dimensions(x, y, 0, 0, out);\n    for (var _i = 0, _b = [rect_1.bottomLeft(r), rect_1.bottomRight(r), rect_1.topRight(r)]; _i < _b.length; _i++) {\n        var corner = _b[_i];\n        rect_1.unionPoint(out, mapPoint(m, corner), out);\n    }\n    return out;\n}\nexports.mapRect = mapRect;\n/** Checks if two matrices are approximately equal */\nfunction equals(m1, m2, e) {\n    if (e === void 0) { e = 0; }\n    return Math.abs(m1.c1r1 - m2.c1r1) <= e\n        && Math.abs(m1.c1r2 - m2.c1r2) <= e\n        && Math.abs(m1.c2r1 - m2.c2r1) <= e\n        && Math.abs(m1.c2r2 - m2.c2r2) <= e\n        && Math.abs(m1.c3r1 - m2.c3r1) <= e\n        && Math.abs(m1.c3r2 - m2.c3r2) <= e;\n}\nexports.equals = equals;\n","import { Rect } from \"@wjheesen/glib\";\nimport { GameObject, Game } from \"./game\";\n\nexport enum BrickStatus {\n    INTACT,\n    DESTROYED,\n}\n\nexport class Brick implements GameObject {\n\n    private status = BrickStatus.INTACT\n\n    constructor(\n        public readonly bounds: Rect.RectLike,\n    ) {}\n\n    get isIntact() {\n        return this.status == BrickStatus.INTACT;\n    }\n\n    destroy() {\n        this.status = BrickStatus.DESTROYED;\n    }\n\n    onGameTick(game: Game) {\n        if (this.status == BrickStatus.INTACT) {\n            this.show(game);\n        }\n    }\n\n    private show({ctx}: Game) {\n        ctx.beginPath();\n        ctx.rect(this.bounds.left, this.bounds.bottom, Rect.width(this.bounds), Rect.height(this.bounds));\n        ctx.fillStyle = \"#0095DD\";\n        ctx.fill();\n        ctx.closePath();\n    }\n}\n","import { Brick } from \"./brick\";\nimport { GameObject, Game } from \"./game\";\nimport { Room } from \"./room\";\nimport { Paddle } from \"./paddle\";\nimport { Point, Rect, Vec2 } from \"@wjheesen/glib\";\n\nexport class Ball implements GameObject {\n\n    private target = Rect.dimensions(\n        this.center.x + this.velocity.x - this.radius,\n        this.center.y + this.velocity.y + this.radius,\n        this.radius * 2,\n        this.radius * 2\n    );\n\n    constructor(\n        private center: Point.PointLike,\n        private radius: number,\n        private velocity: Vec2.Vec2Like,\n    ) {}\n\n    onGameTick(game: Game) {\n        this.show(game);\n        this.move();\n    }\n\n    private show({ctx}: Game) {\n        ctx.beginPath();\n        ctx.arc(this.center.x, this.center.y, this.radius, 0, Math.PI*2);\n        ctx.fillStyle = \"#0095DD\";\n        ctx.fill();\n        ctx.closePath();\n    }\n\n    private move() {\n        Vec2.add(this.velocity, this.center, this.center);\n        Rect.offset(this.target, this.velocity, this.target);\n        console.log(this.velocity, this.center);\n    }\n\n    collidesWithWall({bounds}: Room) {\n        return !Rect.containsX(bounds, this.target.left) || !Rect.containsX(bounds, this.target.right);\n    }\n\n    collidesWithCeiling({bounds}: Room) {\n        return !Rect.containsY(bounds, this.target.bottom);\n    }\n    \n    collidesWithFloor({bounds}: Room) {\n        return !Rect.containsY(bounds, this.target.top);\n    }\n\n    collidesWithPaddle({bounds}: Paddle) {\n        return Rect.intersects(bounds, this.target);\n    }\n \n    collidesWithBrick(brick: Brick) {\n        return brick.isIntact && Rect.intersects(brick.bounds, this.target);\n    }\n\n    bounceAgainstWall(room: Room) {\n        this.velocity.x = -this.velocity.x;\n    }\n\n    bounceAgainstCeiling(room: Room) {\n        this.velocity.y = -this.velocity.y;\n    }\n\n    bounceAgainstPaddle(paddle: Paddle) {\n        this.velocity.y = -this.velocity.y;\n    }\n\n    bounceAgainstBrick(brick: Brick) {\n        this.velocity.y =- this.velocity.y;\n    }\n}\n","import { Game } from \"./game\";\nimport { Brick } from \"./brick\";\n\nexport class BallCollisionHandler {\n\n    handleCollision(game: Game) {\n        return this.handleCollisionWithBricks(game)\n            || this.handleCollisionWithPaddle(game)\n            || this.handleCollisionWithWall(game)\n            || this.handleCollisionWithCeiling(game)\n            || this.handleCollisionWithFloor(game);\n    }\n\n    private handleCollisionWithBricks(game: Game) {\n        return game.bricks.some(brick => this.handleCollisionWithBrick(game, brick));\n    }\n\n    private handleCollisionWithBrick(game: Game, brick: Brick) {\n        let { ball, bricks, score } = game;\n        if (ball.collidesWithBrick(brick)) {\n            ball.bounceAgainstBrick(brick);\n            brick.destroy();\n            if (++score.value == bricks.length) {\n                game.complete();\n            }\n            return true;\n        }\n    }\n\n    private handleCollisionWithPaddle({ball, paddle}: Game) {\n        if (ball.collidesWithPaddle(paddle)) {\n            ball.bounceAgainstPaddle(paddle);\n            return true;\n        } \n    }\n\n    private handleCollisionWithWall({ball, room}: Game) {\n        if (ball.collidesWithWall(room)) {\n            console.log('wall collision', ball, room.bounds);\n            ball.bounceAgainstWall(room);\n            return true;\n        }\n    }\n\n    private handleCollisionWithCeiling({ball, room}: Game) {\n        if (ball.collidesWithCeiling(room)) {\n            ball.bounceAgainstCeiling(room);\n            return true;\n        }\n    }\n\n    private handleCollisionWithFloor(game: Game) {\n        let { ball, room } = game;\n        if (ball.collidesWithFloor(room)) {\n            game.stop();\n            return true;\n        }\n    }\n}","import { Brick } from \"./brick\";\n\nexport interface BrickSpecification {\n    padding: number;\n    width: number;\n    height: number;\n    offsetLeft: number;\n    offsetTop: number;\n}\n\nexport class BrickFactory {\n\n    newBricks(cols: number, rows: number, specs: BrickSpecification) {\n        return Array.from(this.newBrickGenerator(cols, rows, specs));\n    }\n\n    private *newBrickGenerator(cols: number, rows: number, specs: BrickSpecification) {\n        for (let col = 0; col < cols; col++) \n        for (let row = 0; row < rows; row++) {\n            yield this.newBrick(col, row, specs)\n        }\n    }\n\n    newBrick(col: number, row: number, {padding, width, height, offsetLeft, offsetTop}: BrickSpecification ) {\n        let left = col * (width + padding) + offsetLeft;\n        let bottom = row * (height + padding) + offsetTop;\n        return new Brick({left: left, top: bottom + height, right: left + width, bottom: bottom});\n    }\n}","import { Point, Vec2 } from \"@wjheesen/glib\";\n\nexport class DragDetector {\n\n    private dragging = false;\n    private dragPosition= <Point.PointLike> {};\n\n    constructor(\n        private canvasEl: HTMLCanvasElement\n    ) {}\n\n    getDragPosition(): Point.PointLike|null {\n        return this.dragging ? this.dragPosition : null;\n    }\n\n    startListening() {\n        this.canvasEl.addEventListener('pointerdown', this.onPointerDown);\n        this.canvasEl.addEventListener('pointermove', this.onPointerMove);\n        this.canvasEl.addEventListener('pointerup', this.onPointerUp);\n        this.canvasEl.addEventListener('pointercancel', this.onPointerUp);\n    }\n\n    stopListening() {\n        this.canvasEl.removeEventListener('pointerdown', this.onPointerDown);\n        this.canvasEl.removeEventListener('pointermove', this.onPointerMove);\n        this.canvasEl.removeEventListener('pointerup', this.onPointerUp);\n        this.canvasEl.removeEventListener('pointercancel', this.onPointerUp);\n    }\n\n    private onPointerDown = (e: PointerEvent) => {\n        this.dragging = e.target == this.canvasEl;\n    }\n\n    private onPointerMove = (e: PointerEvent) => {\n        if (this.dragging) {\n            e.preventDefault();\n            this.dragPosition.x = e.clientX - this.canvasEl.offsetLeft;\n            this.dragPosition.y = e.clientY - this.canvasEl.offsetTop;\n        }\n    }\n  \n    private onPointerUp = (e: PointerEvent) => {\n        this.dragging = false;\n    }\n}","import { Ball } from './ball';\nimport { Brick } from './brick';\nimport { Paddle } from './paddle';\nimport { Room } from './room';\nimport { Score } from './score';\nimport { DragDetector } from './drag-detector';\nimport { GameKeyListener } from './game-key-listener';\nimport { BallCollisionHandler } from './ball-collision-handler';\n\nexport interface GameObject {\n    onGameTick(game: Game);\n}\n\nexport class Game {\n\n    public tick = 0;\n    private running = false;\n\n    constructor(\n        public readonly ctx: CanvasRenderingContext2D,\n        public readonly dragDetector: DragDetector,\n        public readonly keyListener: GameKeyListener,\n        public readonly ballCollisionHandler: BallCollisionHandler,\n        public readonly room: Room,\n        public readonly score: Score,\n        public readonly bricks: Brick[],\n        public readonly ball: Ball,\n        public readonly paddle: Paddle,\n    ) {}\n\n    start() {\n        this.running = true;\n        this.dragDetector.startListening();\n        this.keyListener.startListening();\n        this.requestNextFrame();\n    }\n\n    stop() {\n        this.running = false;\n        this.dragDetector.stopListening();\n        this.keyListener.stopListening();\n        alert(\"GAME OVER\");\n        document.location.reload();\n    }\n\n    complete() {\n        this.running = false;\n        this.dragDetector.stopListening();\n        this.keyListener.stopListening();\n        alert(\"YOU WIN, CONGRATULATIONS!\");\n        document.location.reload();\n    }\n\n    private requestNextFrame() {\n        if (this.running) requestAnimationFrame(this.onFrameRequest);\n    }\n\n    private onFrameRequest = () => {\n        this.tick++; \n        this.ballCollisionHandler.handleCollision(this);\n        this.room.onGameTick(this);\n        this.score.onGameTick(this);\n        this.bricks.forEach(brick => brick.onGameTick(this));\n        this.ball.onGameTick(this);\n        this.paddle.onGameTick(this);\n        this.requestNextFrame();\n    }\n}\n","export class GameKeyListener {\n\n    public leftKeyPressed = false;\n    public rightKeyPressed = false;\n\n    startListening() {\n        document.addEventListener('keydown', this.onKeyDown, false);\n        document.addEventListener('keyup', this.onKeyUp, false);\n    }\n\n    stopListening() {\n        document.removeEventListener('keydown', this.onKeyDown, false);\n        document.removeEventListener('keyup', this.onKeyUp, false);\n    }\n\n    private onKeyDown = (e: KeyboardEvent) => {\n        switch (e.key) {\n            case 'Left':\n            case 'ArrowLeft':\n                this.leftKeyPressed = true;\n                break;\n            case 'Right':\n            case 'ArrowRight':\n                this.rightKeyPressed = true;\n                break;\n        }\n    }\n    \n    private onKeyUp = (e: KeyboardEvent) => {\n        switch (e.key) {\n            case 'Left':\n            case 'ArrowLeft':\n                this.leftKeyPressed = false;\n                break;\n            case 'Right':\n            case 'ArrowRight':\n                this.rightKeyPressed = false;\n                break;\n        }\n    }\n}","import { Rect, Vec2 } from \"@wjheesen/glib\";\nimport { Game, GameObject } from \"./game\";\n\nexport class Paddle implements GameObject {\n\n    constructor(\n        public readonly bounds: Rect.RectLike,\n        private speed: number,\n    ) {}\n\n    onGameTick(game: Game) {\n        this.show(game);\n        this.handleLeftKeyPress(game);\n        this.handleRightKeyPress(game);\n        this.handleDragging(game);\n    } \n\n    private show({ctx}: Game) {\n        ctx.beginPath();\n        ctx.rect(this.bounds.left, this.bounds.bottom, Rect.width(this.bounds), Rect.height(this.bounds));\n        ctx.fillStyle = \"#0095DD\";\n        ctx.fill();\n        ctx.closePath();\n    }\n\n    private handleLeftKeyPress({room, keyListener}: Game) {\n        if (keyListener.leftKeyPressed) {\n            this.move(Vec2.boundX(-this.speed, this.bounds.left, room.bounds));\n        }\n    }\n        \n    private handleRightKeyPress({room, keyListener}: Game) {\n        if (keyListener.rightKeyPressed) {\n            this.move(Vec2.boundX(this.speed, this.bounds.right, room.bounds));\n        }\n    }\n\n    private move(dx: number) {\n        Rect.offsetX(this.bounds, dx, this.bounds);\n    }\n\n    private handleDragging({room, dragDetector}: Game) {\n        let drag = dragDetector.getDragPosition()\n        if (drag && Rect.containsX(room.bounds, drag.x)) {\n            Rect.offsetX(this.bounds, drag.x - Rect.centerX(this.bounds), this.bounds);\n        }\n    }\n}","import { Rect } from \"@wjheesen/glib\";\nimport { GameObject, Game } from \"./game\";\n\nexport class Room implements GameObject {\n\n    constructor(\n        public readonly bounds: Rect.RectLike,\n    ) {}\n\n    get width() {\n        return Rect.width(this.bounds);\n    }\n\n    get height() {\n        return Rect.height(this.bounds);\n    }\n\n    onGameTick({ctx}: Game) {\n        ctx.clearRect(this.bounds.bottom, this.bounds.left, this.width, this.height);\n    }\n}","import { GameObject, Game } from \"./game\";\n\nexport class Score implements GameObject {\n\n    public value = 0;\n\n    constructor(\n        private x: number,\n        private y: number,\n    ) {}\n\n    onGameTick({ctx}: Game) {\n        ctx.font = '16px Arial';\n        ctx.fillStyle = '#0095DD';\n        ctx.fillText(`Score: ${this.value}`, this.x, this.y);\n    }\n}","import { GameFactory } from './game-factory';\n\nlet canvasEl = <HTMLCanvasElement> document.querySelector('#gameboard');\nlet gameFt = new GameFactory(canvasEl);\nlet game = gameFt.newGame();\ngame.start(); ","import { Rect } from \"@wjheesen/glib\";\nimport { Ball } from \"./ball\";\nimport { BallCollisionHandler } from \"./ball-collision-handler\";\nimport { BrickFactory } from \"./brick-factory\";\nimport { DragDetector } from \"./drag-detector\";\nimport { Game } from \"./game\";\nimport { GameKeyListener } from \"./game-key-listener\";\nimport { Paddle } from \"./paddle\";\nimport { Room } from \"./room\";\nimport { Score } from \"./score\";\n\nexport class GameFactory {\n\n    constructor(\n        private canvasEl: HTMLCanvasElement\n    ) {}\n\n    newGame() {\n        let room = this.newRoom();\n        let bricks = this.newBricks();\n        let ball = this.newBall(room);\n        let paddle = this.newPaddle(room);\n        let ctx = this.canvasEl.getContext('2d');\n        let dragDetector = new DragDetector(this.canvasEl);\n        return new Game(ctx, dragDetector, new GameKeyListener, new BallCollisionHandler, room, this.newScore(), bricks, ball, paddle);\n    }\n\n    private newRoom() {\n        let { width, height } = this.canvasEl;\n        return new Room({left: 0, top: height, right: width, bottom: 0});\n    }\n\n    private newScore() {\n        return new Score(8, 20);\n    }\n\n    private newBall(room: Room) {\n        return new Ball({x : room.width / 2, y: room.height - 30}, 10, {x: 2, y: -2});\n    }\n\n    private newPaddle(room: Room) {\n        let paddleWidth = 75;\n        let paddleHeight = 10;\n        let left = (room.width - paddleWidth) / 2;\n        let top = room.height;\n        let rect = Rect.dimensions(left, top, paddleWidth, paddleHeight);\n        let speed = 7;\n        return new Paddle(rect, speed);\n    }\n\n    private newBricks() {\n        return (new BrickFactory).newBricks(3, 5, {\n            width: 75,\n            height: 20,\n            padding: 10,\n            offsetTop: 30,\n            offsetLeft: 30,\n        });\n    }\n}"],"sourceRoot":""}